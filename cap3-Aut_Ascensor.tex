% ---------------------------------------------------------------------------------------
\chapter{Automatización de un ascensor prototipo}\label{chap3}
\section{Requerimientos funcionales}\label{reqfuncional1asc}
Los requerimientos funcionales que se presentarán a continuación necesitan ser cumplidos a totalidad para asegurar el correcto funcionamiento del ascensor prototipo y optimizar el recorrido de la cabina del ascensor y así, por lo tanto, poder minimizar el uso energético del sistema.\\

\textbf{Requerimientos funcionales para ascensor independiente:}
\begin{enumerate}
\item La consola externa recibe solicitudes que señala desde que piso empezar el recorrido haciendo que la cabina se dirija a ese piso, a menos que haya una solicitud desde la consola interna que pueda ser atendida durante el recorrido. Por ejemplo:
\begin{enumerate}
\item Si la cabina se dirige al primer piso desde la consola externa y se solicita ir al segundo piso desde la consola interna, este debe detenerse en el segundo piso antes de continuar su recorrido.
\item Si la cabina se dirige al tercer piso desde la consola externa y se solicita ir al segundo piso desde la consola interna, este debe detenerse en el segundo piso antes de continuar su recorrido.
\end{enumerate}
\item La consola interna señala el piso al cual se dirige la cabina, a menos que haya una solicitud desde la consola externa que pueda ser atendida durante el recorrido. Por ejemplo:
\begin{enumerate}
\item Si la cabina se dirige al primer piso desde la consola interna y se solicita ``bajar'' desde el segundo piso (con pulsador correspondiente), este debe detenerse en el segundo piso antes de continuar ignorando la solicitud desde el segundo piso si es para ``subir'' siendo cumplida después de llegar al primer piso.
\item Si la cabina se dirige al tercer piso desde la consola interna y se solicita ``subir'' desde el segundo piso (con pulsador correspondiente), este debe detenerse en el segundo piso antes de continuar ignorando la solicitud desde el segundo piso si es para ``bajar'' siendo cumplida después de llegar al tercer piso.
\end{enumerate}
\item La cabina debe detenerse un tiempo (Timer\_wait) en el piso en el que lo llamaron o al que se le pidió dirigirse.
\item La luz de la cabina debe estar encendida a partir de cualquier solicitud y permanecer encendida un tiempo (Timer\_LIC) después de la inactividad.
\item Cada botón de la consola externa e interna tiene asociado un diodo LED que indica cuando es presionado y así señalar cuando la solicitud fue captada.
\end{enumerate}

\section{PLC S7-200}\label{PLC}
El controlador utilizado en esta parte del proyecto es el PLC Siemens S7-200 modelo CPU224, el cual tiene integradas 14 entradas digitales y 10 salidas digitales, cuenta además con un puerto PPI integrado que permite la comunicación con el PC y otros PLC's; también cuenta con un módulo de comunicación Ethernet modelo CP 243-1 IT, el cual permite una comunicación TCP/IP entre el PLC y el PC a través de la red de internet del departamento de electrónica de la universidad; por último cuenta con dos módulos de expansión de entradas y salidas analógicas, las cuales son erán utilizadas en este proyecto.\\

La arquitectura de control de este sistema como se puede ver en la figura \ref{Arquitectura1ascensor}, cuenta con un computador, un PLC S7-200 con su módulo ethernet y el ascensor prototipo; el computador se puede comunicar con el PLC a través de un cable especial Siemens que permite la codicifación desde un puerto USB a comunicación serial al puerto PPI o a través de la red ethernet del departamento de electrónica.

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{fig/Arquitectura1ascensor.png}
\caption{Arquitectura de control y supervisión del sistema.}
\label{Arquitectura1ascensor}
\end{figure}


El computador contiene los tres programas utilizados para la automatización del sistema y para la supervisión a través de HMI, estos tres programas son STEP7 MicroWIN, PCAccess e SCADA iFix.\\

STEP7 MicroWIN es el software dedicado a la programación del PLC para automatizar el ascensor prototipo, este software utiliza lenguaje LADDER que es un lenguaje de programación gráfico que está basado en los esquemas eléctricos de control clásicos como contactores, bobinas, entre otros.\\

PCAccess es el software encargado de crear una comunicación entre el PLC y el software SCADA iFix a través de un servidor OPC, de esta manera poder integrar en el HMI creado en SCADA iFix las variables que se necesitan leer del PLC para saber el estado del ascensor.\\

Y por último, el software SCADA iFix que es el que permite crear un HMI para la supervisión del estado en que se encuentra el ascensor, este programa permite crear un interfaz gráfico a través de imágenes y figuras que pueden ser vinculadas a variables incorporadas en una base de datos, dentro de SCADA iFix, para saber su estado a través de alguna acción, como por ejemplo el cambio de color de una figura al activarse un sensor.


\section{Programación S7-Graph}\label{programagrafcet}
Para crear la secuencia de automatización del ascensor se utilizó GRAFCET, que es un diagrama funcional para describir procesos de automatización, para ello se pensó en 4 estados (S0, S1, S2 y S3) y de 5 transiciones compuestas por condiciones de sensores y pulsadores que permitirán el paso de un estado a otro, como se puede ver en la figura \ref{Grafcet1ascensor}.\\

\begin{figure}[H]
\centering
\includegraphics[scale=0.55]{fig/1Ascensor.png}
\caption{GRAFCET para automatizar el ascensor.}
\label{Grafcet1ascensor}
\end{figure}

El estado S0 es el estado de inicialización del sistema, el cual se encarga de resetear todos los estados ante cualquier reinicio general y asegurar que la secuencia empiece por S1. El estado S1, S2 y S3 son estados de acción los cuales le dicen al ascensor que suba si S2 está activo, que baje si está activo S3 o que se detenga si se activa S1, además en S1 se activa el timer ON ``Timer\_wait'' que es el encargado de esperar un tiempo en el piso donde se detenga antes de subir o bajar según se requiera, el cual activa la variable ``Wait\_on'' cuando se cumple el tiempo permitiendo que se active la transición T1 o T2; en S2 y S3 se activa el timer OFF ``Timer\_LIC'' que es el encargado de mantener encendida la luz de la cabina mientras este sube o baja y mantenerla encendida por un tiempo después de salir del estado S2 o S3. \\

Antes de explicar las transiciones se necesita detallar el nombre de las variables para mejor comprensión, ver tabla \ref{Definicionesvariable} a continuación. 

\begin{table}[H]
\centering
\begin{tabular}{|p{4.5cm}|p{9cm}|}
\hline
\multicolumn{1}{|c|}{\textbf{Variable}}&\multicolumn{1}{c|}{\textbf{Comentario}}\\ \hline
MBajar & Bit en memoria ascensor bajando\\ \hline
MSubir & Bit en memoria ascensor subiendo\\ \hline
SC1 & Sensor cabina en primer piso\\ \hline
SC2 & Sensor cabina en segundo piso\\ \hline
SC3 & Sensor cabina en tercer piso\\ \hline
PI1 & Pulsador consola interna ir a primer piso\\ \hline
PI2 & Pulsador consola interna ir a segundo piso\\ \hline
PI3 & Pulsador consola interna ir a tercer piso\\ \hline
PE1 & Pulsador consola externa subir desde primer piso\\ \hline
PE2b & Pulsador consola externa bajar desde segundo piso\\ \hline
PE2s & Pulsador consola externa subir desde segundo piso\\ \hline
PE3 & Pulsador consola externa bajar desde tercer piso\\ \hline
\end{tabular}
\caption{Tabla de definiciones.}
\label{Definicionesvariable}
\end{table}

Teniendo las definiciones explicadas en la tabla \ref{Definicionesvariable} se puede entender de mejor forma las transiciones que permiten el paso de un estado a otro en el GRAFCET de la figura \ref{Grafcet1ascensor}. La transición T1 es la que permite que el ascensor empiece a subir, esto tiene que pasar cuando el ascensor esté en el primer piso y se presione cualquier pulsador externo del segundo o tercer piso o los pulsadores internos de ir al segundo o tercer piso, o cuando esté en el segundo piso y se presione el pulsador externo del tercer piso o el pulsador interno de ir al tercer piso; algo similar es la transición T3 pero viceversa a T1, ya que esta transición es la que permite que la cabina del ascensor empiece a bajar, por lo tanto el ascensor tiene que estar en el tercer piso y se tiene que presionar cualquier pulsador del segundo o primer piso, como también algún pulsador de la consola interna para dirigirse al segundo o primer piso. Por otra parte, T2 y T4 son las transiciones que hacen que el ascensor pase del movimiento, ya sea subiendo o bajando, a que se detenga; por ese motivo es que la transición asocia el sensor del piso donde llega la cabina y el pulsador que fue presionado. En la transición T2 se puede apreciar que cuando el sensor del segundo piso se activa y a su vez esta encendida alguna solicitud para ir al segundo piso, ya sea por la consola interna o externa, este tiene que salir del estado S2 y pasar a S1, siendo una excepción que si se presionó el pulsador del segundo piso para bajar, ya que si el ascensor tiene que seguir subiendo por alguna solicitud del tercer piso este debe ignorar la solicitud de bajar del segundo piso para ser satisfecha cuando la cabina ya haya atendido la del tercer piso; similar es con T4 al pasar de S3 a S1, de igual forma si la cabina del ascensor llega al piso de donde fue solicitado debe detenerse; teniendo la misma excepción T4, que si el ascensor está bajando por el pulsador del segundo piso para subir solamente se detiene si no existe ninguna solicitud del primer piso.\\

Esta secuencia GRAFCET fue traducida a lenguaje LADDER para ser cargada en el PLC, a través de comunicación PPI. El diagrama LADDER de la secuencia se puede encontrar en los ANEXOS.

\section{Supervisión mediante SCADA HMI vía Ethernet TCP/IP}\label{hmi1asc}

\subsection{Configuración Modulo Ethernet}\label{moduloEthernet}

Para poder comunicar el computador con el PLC vía TCP/IP usando la red Ethernet se tiene que configurar los puertos y direcciones del modulo de comunicación Ethernet CP243-1 IT siguiendo los siguientes pasos:

\begin{enumerate}
\item Primero, se debe entrar al asistente de Ethernet desde el software STEP7 MicroWIN, seleccionando ``Herramientas'' desde la barra de menú luego ``Asistente de Ethernet'', abriéndose un cuadro como el de la figura \ref{AsisEthernet1}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/AsisEthernet1.png}
\caption{Asistente Ethernet, selección de módulo de comunicación.}
\label{AsisEthernet1}
\end{figure}

\item A continuación, se elige la ubicación ``0'' del módulo y dar click en ``Leer módulos'' para luego seleccionar ``CP-243-1 INTERNET'' y dar ``Siguiente''. Luego se tienen que ingresar las direcciones que se solicitan, ver figura \ref{AsisEthernet2} :
\begin{itemize}
\item Dirección IP: 10.42.3.64
\item Máscara de subred: 255.255.255.0
\item Dirección puerta de enlace: 10.42.3.1
\end{itemize}

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{fig/AsisEthernet2.png}
\caption{Asistente Ethernet, configuración de direcciones.}
\label{AsisEthernet2}
\end{figure}

\item Luego se elije la cantidad de enlaces a configurar, donde se elije configurar un solo enlace, ver figura \ref{AsisEthernet3}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/AsisEthernet3.png}
\caption{Asistente Ethernet, cantidad de enlaces.}
\label{AsisEthernet3}
\end{figure}

\item Ahora se tiene que configurar el enlace que se necesita crear, donde se selecciona que sea un enlace servidor y el cuadro ``Aceptar todas las peticiones de enlace'' y verificar que la TSAP loca y remota sea 10.00, ver figura \ref{AsisEthernet4}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/AsisEthernet4.png}
\caption{Asistente Ethernet, configuración del enlace.}
\label{AsisEthernet4}
\end{figure}

\item Se elije además generar una protección CRC, que sirve para evitar la sobreescritura accidental de la configuración, ver figura \ref{AsisEthernet5}

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/AsisEthernet5.png}
\caption{Asistente Ethernet, seguridad CRC.}
\label{AsisEthernet5}
\end{figure}

\item Luego se debe proponer una dirección de memoria para guardar la configuración recién creada, esta configuración necesita 159 bytes de uso exclusivo por lo que hay que tener cuidado de utilizar esos bytes en otras configuraciones por lo tanto se deja que el asistente proponga una dirección y se da en siguiente, ver figura \ref{AsisEthernet6}

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/AsisEthernet6.png}
\caption{Asistente Ethernet, memoria dedicada a configuración Ethernet.}
\label{AsisEthernet6}
\end{figure}

\item Por último dar ``Finalizar'' al asistente para terminar, donde nos advierte que la configuración creara una subrutina llamada ``ETH0\_CTRL'', ver figura \ref{AsisEthernet7}

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/AsisEthernet7.png}
\caption{Asistente Ethernet, creación de subrutina.}
\label{AsisEthernet7}
\end{figure}
\end{enumerate}

Después de configurado el modulo de comunicación Ethernet, se debe cargar el programa con la configuración en el PLC a través de comunicación PPI, para luego darle ``Reset al arrancar'' que reinicia el PLC y permite que la configuración sea cargada en el módulo, ver figura \ref{Reset}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.75]{fig/Reset.png}
\caption{Forma para resetear el PLC y cargar las configuraciones.}
\label{Reset}
\end{figure}

Para verificar si todo quedó correctamente configurado, ir a ``CPU'' en la barra de menú y luego ``Información'' y darle doble click al módulo 0 ``CP243-1 INTERNET'', donde se abrirá un cuadro informativo donde al dar en la pestaña ``Dirección'' tienen que estar las direcciones ingresadas al asistente, ver figura \ref{Informacion}

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{fig/Informacion.png}
\caption{Información de las direcciones ingresadas al PLC.}
\label{Informacion}
\end{figure}

Para terminar se cambia la comunicación de PPI a TCP/IP.
\subsection{Configuración PC Access (Servidor OPC)}\label{OPCserver}
Para definir ítemes OPC asociados a variables del PLC se debe configurar el servidor OPC, que en este proyecto corresponde al software S7-200 PCAccess.

\begin{enumerate}
\item Se debe a hacer click derecho sobre ``MicroWin(TCP/IP)'' y elegir ``nuevo PLC'', se abrirá la configuración que permitirá darle un nombre identificador además de indicarle la dirección IP ingresado en el módulo Ethernet del PLC, además de cerciorarse que el TSAP local y remoto sea 10.00 tal como se configuro anteriormente y aceptar, ver figura \ref{PCAccess1}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/PCAccess1.png}
\caption{Configuración del servidor OPC.}
\label{PCAccess1}
\end{figure}

\item Ahora se deben agregar ítemes OPC del servidor, para eso se debe hacer click derecho sobre el PLC recién creado y dar en ``Nuevo'' e ``Ítem ...'' para que aparezca el cuadro donde se puede configurar la variable poniéndole un nombre identificador, elegir la dirección de la variable, si será una variable de lectura o escritura o ambas y el tipo de dato de actualiza automáticamente dependiendo de la dirección elegida, la unidad de ingeniería se usa para variables analógicas donde se necesita dar un rango.

\begin{figure}[H]
\centering
\includegraphics[scale=0.55]{fig/PCAccess2.png}
\caption{Agregar ítemes OPC del servidor.}
\label{PCAccess2}
\end{figure}

\item Una vez creados todos los ítemes, se debe guardar la configuración para luego verificar que las variables están correctamente funcionando con el ``Cliente de prueba''. Para ello se deben arrastrar los ítemes al cuadro de abajo e iniciar el cliente de prueba, y comprobar que la calidad de las variables sea ``Good'', ver figura \ref{PCAccess3}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/PCAccess3.png}
\caption{Cliente de prueba de PCAccess.}
\label{PCAccess3}
\end{figure}

\item Verificado que el servidor OPC esta funcionando correctamente puede cerrarse el software PCAccess ya que el servidor seguirá funcionando en segundo plano.  
\end{enumerate}

\subsection{Configuración en SCADA iFix}\label{SCADAiFix}

Actualmente es de suma importancia contar con la supervisión remota de un sistema automatizado y así tener un control sobre los estados y problemas que puedan estar ocurriendo, por este motivo se creará un interfaz humano-máquina (HMI) para supervisar el sistema de automatización del ascensor prototipo. Para ello se debe tener acceso a las variables del PLC, lo cual se logra habiendo configurado un servidor OPC local como se detalla en el punto \ref{OPCserver}.


Para poder crear el HMI primero se debe configurar el software de SCADA iFix de la siguiente forma:

\begin{enumerate}
\item Al abrir el software, en la parte izquierda de la pantalla se despliega una lista de objetos y carpetas donde se debe buscar la carpeta ``I/O Driver" y seleccionar ``OPC'' que abrirá un cuadro de diálogo donde se selecciona ``Use Local OPC Client Driver'' y dar click en ``Connect'', ver figura \ref{iFix1}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/iFix1.png}
\caption{Establecer comunicación con servidor.}
\label{iFix1}
\end{figure}

\item Una vez establecida la conexión se abrirá la ventana llamada ``PowerTool'' para la configuración de los servidores e ítemes para el trabajo. Donde tiene que dar click en ``Add OPC Server'', se abrirá un cuadro de diálogo donde se debe elegir ``Use Local OPC Server'' y se tiene que seleccionar el tipo de OPC Server que es ``S7200.OPCServer'' y finalizar, ver figura \ref{iFix2}.
 
\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/iFix2.png}
\caption{Selección tipo de servidor OPC.}
\label{iFix2}
\end{figure}

\item La configuración del servidor es la dada por defecto, por tanto solamente se debe cambiar el nombre y habilitar ``Enable'', ver figura \ref{iFix3}

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/iFix3.png}
\caption{Configuración del servidor.}
\label{iFix3}
\end{figure}

\item Dentro del servidor OPC se debe agregar un grupo dando click en ``Add Group'', dándole un nombre y un tiempo de refresco ``Update rate'' de 100[ms] para la visualización de datos cada 0,1[s] (Update rate: 01), este grupo será el que contendrá los ítemes del servidor, ver figura \ref{iFix4}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/iFix4.png}
\caption{Agregar el grupo que contiene los ítemes.}
\label{iFix4}
\end{figure} 

\item Finalmente se deben agregar todos los ítemes ha utilizarse dando click en ``Add Item'', dentro de la configuración del ítem se debe configurar el nombre del mismo y habilitar el ítem en ``Enable'', ver figura \ref{iFix5}

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/iFix5.png}
\caption{Configuración de ítem.}
\label{iFix5}
\end{figure}

\item Luego se debe seleccionar la dirección de la variable en ``Browse Server'' donde debe elegirse el servidor, el programa, el nombre del PLC y por último la variable a vincular. Además desde esa ventana se puede seleccionar que se cree automáticamente un TAG  para la base de datos de iFix, donde debe habilitarse la opción de creado, elegir el tipo de dato si es entrada o salida respecto el HMI y por último borrar el prefijo creado por iFix, ver figura \ref{iFix6}

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/iFix6.png}
\caption{Direccinamiento y creación de TAG para base de datos.}
\label{iFix6}
\end{figure}

\item Sino se habilita la creación automática del TAG se puede hacer directamente desde el PowerTool, dando click en ``Add Item to iFix Database'', donde se abre un cuadro de diálogo donde debe habilitarse la autocreación del TAG, elegir si el dato es entrada o salida con respecto al HMI y borrar el prefijo creado por iFix haciendo esto con todos los ítemes uno por uno, ver figura \ref{iFix7}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{fig/iFix7.png}
\caption{Agregar ítem a base de dato.}
\label{iFix7}
\end{figure}

\item Luego se debe verificar que todos los ítemes fueron agregados a la base de datos, para eso se debe ir a la carpeta ``Database'' en la barra izquierda y seleccionar el icono ``Database Manager'', donde se abrirá una nueva ventada y un cuadro de diálogo donde se debe arcar la opción ``Open Local Node'' y OK, ver figura \ref{iFix81}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/iFix81.png}
\caption{Verificando ítemes en base de datos.}
\label{iFix81}
\end{figure}

\item Dentro de la ventana de la base de datos se debe recargar la base de datos haciendo click derecho y dando click en ``Reload database'' y elegir la base de dato creada, para finalizar dando un refresco haciendo click derecho y ``Refresh'', ver figura \ref{iFix8}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/iFix8.png}
\caption{Recargar y refrescar la base de datos.}
\label{iFix8}
\end{figure}

\item Se debe modificar la configuración de los ítemes agregados en la base de datos cambiando el tiempo de escaneo ``Scan Time'' en la pestaña ``Basic'' y habilitar la salida ``Enable Output'' en la pestaña ``Advanced'' y guardar ``Save'' y repetir con todos los ítemes, ver figura \ref{iFix9}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.55]{fig/iFix9.png}
\caption{Configurar el tiempo de escaneo y habilitar ítem.}
\label{iFix9}
\end{figure}

\item Para finalizar verificar que todos los ítem fueron agregados y que en la columna ``Curr Value'' aparezca el estado de la variable ya sea ``OPEN'' o ``CLOSE'' y no ``????'', ver figura \ref{iFix10}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{fig/iFix10.png}
\caption{Base de datos final, configurada.}
\label{iFix10}
\end{figure}

\end{enumerate}

Después de finalizadas todas las configuraciones anteriormente mencionada, se puede empezar a crear el interfaz gráfico para la supervisión del ascensor prototipo. Se tiene que ir a la carpeta ``Picture'' en la barra lateral izquierda del iFix donde permite agregar figuras y objetos desde ``Insert'' en la barra superior.\\

A estas figuras y objetos se pueden asociar acciones como cambio de color, movimiento y escalamientos, rellenado y volverse invisible dependiendo del cambio de estado de alguna variable que sea vinculada al objeto o figura; para eso se agrega una figura al ambiente dedicado para insertar objetos, darle click derecho encima y entrar a ``Animations'', ver figura \ref{iFix11}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.55]{fig/iFix11.png}
\caption{Dar animación a la figura.}
\label{iFix11}
\end{figure}

Al seleccionar una acción se abre un cuadro de diálogo donde permite vincular la acción a alguna variable que puede ser elegida haciendo click en ``...'' al costado de la barra de selección, donde debe elegirse el nodo en la columna izquierda, la variable en la columna central y en la columna derecha se elige ``F\_CV'' que significa que va a leer el valor actual flotante ``Float Current Value'', para luego dar en ``OK''. Finalizado lo anterior se elige la opción ``Exact match'' que permite el cambio cuando son variables binarias, para luego terminar de configurar la acción, ver figura \ref{iFix12}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{fig/iFix12.png}
\caption{Vinculación de imagen con variable de la base de datos.}
\label{iFix12}
\end{figure} 

Después de finalizada toda la configuración se pudo crear un interfaz gráfico que fuese lo más intuitivo posible para que no tenga que tenerse conocimiento previo para entender el sistema y que se está supervisando, quedando el HMI plasmado en la figura \ref{ifixlisto}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{fig/IFIXLISTO1.png}
\caption{HMI terminado.}
\label{ifixlisto}
\end{figure}

%\section{Supervisión mediante una página web basada en Applets Java}
\section{Análisis de resultados}
La arquitectura de control y supervisión del sistema de automatización de un ascensor prototipo quedó correctamente instalada, los software necesarios para la comunicación entre el computador usado por el usuario y el PLC quedó configurado perfectamente y se puede verificar con el correcto funcionamiento del HMI creado para supervisar y controlar este sistema. Como se puede apreciar en la figura \ref{hmi1}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{fig/HMI1FUNCIONANDO.png}
\caption{Interfaz humano maquina corriendo y supervisando.}
\label{hmi1}
\end{figure}

Todo este proceso sirvió para familiarizarse con el PLC, el computador y los software necesarios para trabajar en este sistema y así poder abordar de mejor forma la segunda parte de este proyecto de memoria que es la automatización coordinada de dos ascensores prototipos y su correspondiente supervisión remota.